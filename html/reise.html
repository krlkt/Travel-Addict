<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>Reise</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/reise.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script language="JavaScript" type="text/javascript" src="/js/jquery-3.6.0.min.js"></script>
    <script src="/js/loadJS.js"></script>
</head>

<body>
    <nav class="navbarcomp"></nav>
    <div class="reise_form">
        <h1>Hinzuf√ºgen oder Entfernen einer Reise</h1>
        <form>
            <label for="name">Name der Reise</label>
            <input type="text" id="name"  required>
            <label for="startDatum">Startdatum</label>
            <input type="date" id="startDatum"  required>
            <label for="endDatum">Enddatum</label>
            <input type="date" id="endDatum"  required>
            <label for="land">Reiseland</label>
            <input type="text" id="land"  required>
            <button type="submit" class="btn-list">
                <i class="fa fa-plus" aria-hidden="true"></i>
            </button>
        </form>
        <div class="container">
            <ul>
            </ul>
        </div>
        <script>
            const btn = document.querySelector('.btn-list');
            const list = document.querySelector('.container ul');
            let input = [];

            btn.addEventListener('click', (e) => {
                    e.preventDefault();

                    let reise = 
                    {
                        name: document.getElementById('name').value,
                        startDatum: document.getElementById('startDatum').value,
                        endDatum: document.getElementById('endDatum').value,
                        land: document.getElementById('land').value
                    }
                    input.push(reise);
                    document.forms[0].reset();

                    localStorage.setItem(reise.name, JSON.stringify(input));

                    //li
                    const li = document.createElement('li');
                    li.innerHTML = "Name: " + reise.name + "\n" +
                                    "Startdatum: " + reise.startDatum + "\n" +
                                    "Enddatum: " + reise.endDatum + "\n" +
                                    "Land: " + reise.land;
                    li.name = reise.name;
                    list.appendChild(li);
                    //span
                    const span = document.createElement('span');
                    span.innerHTML = 'X';
                    li.appendChild(span);
                const remove = document.querySelectorAll('span');

                for (let i = 0; i < remove.length; i++) {
                    remove[i].addEventListener('click', () =>
                    {
                        remove[i].parentElement.style.opacity = 0;
                        remove[i].parentElement.style.display = "none";
                        localStorage.removeItem(remove[i].parentElement.name);
                    })
                }

            });
        </script>
    </div>
    <br /><br />

</body>

</html>